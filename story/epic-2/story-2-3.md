# Story 2.3

## 标题

实现编辑器工具栏和快捷键功能

## 背景与目标

为了提升用户的编辑效率和体验，需要在编辑器上方添加工具栏，提供常用的Markdown格式化按钮，同时支持键盘快捷键操作。让用户能够快速插入和格式化Markdown内容。

## 需求概述

1. **工具栏组件设计**
   - 创建EditorToolbar组件
   - 包含常用格式化按钮：加粗、斜体、标题、列表、链接、代码块
   - 使用Shadcn UI组件确保界面一致性
   - 工具栏固定在编辑器顶部

2. **快捷键支持**
   - 实现常用快捷键：Ctrl+B（加粗）、Ctrl+I（斜体）、Ctrl+K（链接）
   - 支持Ctrl+Z（撤销）、Ctrl+Y（重做）操作
   - 快捷键与工具栏按钮功能保持一致

3. **格式化功能实现**
   - 在光标位置插入对应的Markdown语法
   - 支持选中文本的格式化包装
   - 智能处理光标位置和选择区域

## 验收标准

- 工具栏按钮样式美观，hover和active状态明确
- 所有工具栏按钮功能正常，能正确插入Markdown语法
- 快捷键响应准确，与按钮功能一致
- 选中文本时能够正确应用格式化
- 撤销/重做功能工作正常
- 工具栏在不同屏幕尺寸下显示良好

---

## 实现分解

### 目录结构

- `components/Editor/`
  - `EditorToolbar.tsx` - 工具栏组件
  - `MarkdownCommands.ts` - 格式化命令工具
- `hooks/`
  - `useKeyboardShortcuts.ts` - 快捷键处理hook

### 前端功能

- 使用Shadcn UI Button和Tooltip组件
- 实现Monaco Editor的命令调用
- 创建格式化命令处理逻辑
- 添加键盘事件监听和处理
- 实现光标位置和选区管理

### 后端功能

- 无后端需求

### 类型与安全

- 定义工具栏按钮配置的TypeScript接口
- 定义快捷键映射的类型
- 确保命令执行的类型安全 